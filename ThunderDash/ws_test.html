<!DOCTYPE html>
<html>
<head>
    <title>WebSocket demo</title>
</head>
<body>
<script>
    var ws = new WebSocket("ws://192.168.1.156:58951/"),
            messages = document.createElement('ul');
    console.log("link 2 ws");
    ws.onerror = function (msg) {
        console.log(msg)
    };
    ws.onopen = function (msg) {
        console.log("open")
    };

    ws.onmessage = function (event) {
        var messages = document.getElementsByTagName('ul')[0],
                message = document.createElement('li'),
                content = document.createTextNode(event.data);
        message.appendChild(content);
        messages.appendChild(message);
    };
    document.body.appendChild(messages);
</script>

</body>
</html>